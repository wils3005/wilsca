<!DOCTYPE HTML> 
<html lang="en"> 
<head>
<title>Peer Test</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
<meta http-equiv="Content-Language" content="en-us"> 
<meta name="description" content=""> 
<meta name="keywords" content=""> 

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script> 
<script type="text/javascript" src="/peer.js"></script>
<script>
$(document).ready(function() {
  connections = {};
  $('#connect').click(function() {
    var source = $('#source').val();

    sink = new Peer({ ws: 'ws://localhost:9000', debug: true });
    sink.on('ready', function() {
      sink.connect(source, { username: 'michelle' }, function(err, connection) {
        x = connection;
        console.log('got connection');
        console.log(connection);

        connection.on('data', function(data) {
          console.log(data);
        });

        connection.send('Hi there!');
        connections[source] = connection;
      });
    });
  });
});

</script>

</head> 
 
<body> 
  This is a P2P peer.
  <br><br>
  Enter source ID to connect to:
  <br><input type="text" id="source"></input>
  <button id="connect">Connect</button>
</body> 
</html> 
