{"id":"BHXf","dependencies":[{"name":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/tsconfig.json","includedInParent":true,"mtime":1614222249821},{"name":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/package.json","includedInParent":true,"mtime":1614223877867},{"name":"peerjs-js-binarypack","loc":{"line":10,"column":38},"parent":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/lib/util.ts","resolved":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/node_modules/peerjs-js-binarypack/lib/binarypack.js"},{"name":"./supports","loc":{"line":11,"column":25},"parent":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/lib/util.ts","resolved":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/lib/supports.ts"}],"generated":{"js":"\"use strict\";var r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(null!=r)for(var e in r)Object.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t.default=r,t};Object.defineProperty(exports,\"__esModule\",{value:!0});var t=r(require(\"peerjs-js-binarypack\")),e=require(\"./supports\"),o={iceServers:[{urls:\"stun:stun.l.google.com:19302\"},{urls:\"turn:0.peerjs.com:3478\",username:\"peerjs\",credential:\"peerjsp\"}],sdpSemantics:\"unified-plan\"};exports.util=new(function(){function r(){this.CLOUD_HOST=\"0.peerjs.com\",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=o,this.browser=e.Supports.getBrowser(),this.browserVersion=e.Supports.getVersion(),this.supports=function(){var r,t={browser:e.Supports.isBrowserSupported(),webRTC:e.Supports.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;try{r=new RTCPeerConnection(o),t.audioVideo=!0;var n=void 0;try{n=r.createDataChannel(\"_PEERJSTEST\",{ordered:!0}),t.data=!0,t.reliable=!!n.ordered;try{n.binaryType=\"blob\",t.binaryBlob=!e.Supports.isIOS}catch(a){}}catch(a){}finally{n&&n.close()}}catch(a){}finally{r&&r.close()}return t}(),this.pack=t.pack,this.unpack=t.unpack,this._dataCount=1}return r.prototype.noop=function(){},r.prototype.validateId=function(r){return!r||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(r)},r.prototype.chunk=function(r){for(var t=[],e=r.size,o=Math.ceil(e/exports.util.chunkedMTU),n=0,a=0;a<e;){var i=Math.min(e,a+exports.util.chunkedMTU),s=r.slice(a,i),u={__peerData:this._dataCount,n:n,data:s,total:o};t.push(u),a=i,n++}return this._dataCount++,t},r.prototype.blobToArrayBuffer=function(r,t){var e=new FileReader;return e.onload=function(r){r.target&&t(r.target.result)},e.readAsArrayBuffer(r),e},r.prototype.binaryStringToArrayBuffer=function(r){for(var t=new Uint8Array(r.length),e=0;e<r.length;e++)t[e]=255&r.charCodeAt(e);return t.buffer},r.prototype.randomToken=function(){return Math.random().toString(36).substr(2)},r.prototype.isSecure=function(){return\"https:\"===location.protocol},r}());"},"sourceMaps":{"js":{"mappings":[{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":0}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":13}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":17}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":19}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":25}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":30}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":44}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":53}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":56}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":59}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":62}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":64}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":75}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":82}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":84}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":88}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":90}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":93}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":96}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":102}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":104}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":108}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":112}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":117}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":119}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":126}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":141}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":146}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":148}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":153}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":155}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":158}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":160}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":164}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":171}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":173}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":181}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":183}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":186}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":193}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":208}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":216}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":229}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":230}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":237}},{"source":"util.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":241}},{"source":"util.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":245}},{"source":"util.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":247}},{"source":"util.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":249}},{"source":"util.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":257}},{"source":"util.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":282}},{"source":"util.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":284}},{"source":"util.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":292}},{"source":"util.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":1,"column":306}},{"source":"util.ts","name":null,"original":{"line":5,"column":23},"generated":{"line":1,"column":308}},{"source":"util.ts","name":null,"original":{"line":6,"column":2},"generated":{"line":1,"column":309}},{"source":"util.ts","name":null,"original":{"line":6,"column":14},"generated":{"line":1,"column":320}},{"source":"util.ts","name":null,"original":{"line":7,"column":4},"generated":{"line":1,"column":321}},{"source":"util.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":322}},{"source":"util.ts","name":null,"original":{"line":7,"column":12},"generated":{"line":1,"column":327}},{"source":"util.ts","name":null,"original":{"line":8,"column":4},"generated":{"line":1,"column":359}},{"source":"util.ts","name":null,"original":{"line":8,"column":6},"generated":{"line":1,"column":360}},{"source":"util.ts","name":null,"original":{"line":8,"column":12},"generated":{"line":1,"column":365}},{"source":"util.ts","name":null,"original":{"line":8,"column":38},"generated":{"line":1,"column":390}},{"source":"util.ts","name":null,"original":{"line":8,"column":48},"generated":{"line":1,"column":399}},{"source":"util.ts","name":null,"original":{"line":8,"column":58},"generated":{"line":1,"column":408}},{"source":"util.ts","name":null,"original":{"line":8,"column":70},"generated":{"line":1,"column":419}},{"source":"util.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":431}},{"source":"util.ts","name":null,"original":{"line":10,"column":16},"generated":{"line":1,"column":444}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":460}},{"source":"util.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":468}},{"source":"util.ts","name":null,"original":{"line":13,"column":20},"generated":{"line":1,"column":473}},{"source":"util.ts","name":null,"original":{"line":13,"column":20},"generated":{"line":1,"column":477}},{"source":"util.ts","name":null,"original":{"line":13,"column":24},"generated":{"line":1,"column":488}},{"source":"util.ts","name":null,"original":{"line":13,"column":24},"generated":{"line":1,"column":497}},{"source":"util.ts","name":null,"original":{"line":16,"column":11},"generated":{"line":1,"column":501}},{"source":"util.ts","name":null,"original":{"line":16,"column":11},"generated":{"line":1,"column":506}},{"source":"util.ts","name":null,"original":{"line":16,"column":24},"generated":{"line":1,"column":517}},{"source":"util.ts","name":null,"original":{"line":17,"column":11},"generated":{"line":1,"column":532}},{"source":"util.ts","name":null,"original":{"line":17,"column":11},"generated":{"line":1,"column":537}},{"source":"util.ts","name":null,"original":{"line":17,"column":24},"generated":{"line":1,"column":548}},{"source":"util.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":552}},{"source":"util.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":557}},{"source":"util.ts","name":null,"original":{"line":20,"column":29},"generated":{"line":1,"column":573}},{"source":"util.ts","name":null,"original":{"line":20,"column":31},"generated":{"line":1,"column":574}},{"source":"util.ts","name":null,"original":{"line":20,"column":39},"generated":{"line":1,"column":581}},{"source":"util.ts","name":null,"original":{"line":20,"column":42},"generated":{"line":1,"column":583}},{"source":"util.ts","name":null,"original":{"line":20,"column":50},"generated":{"line":1,"column":590}},{"source":"util.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":1,"column":593}},{"source":"util.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":1,"column":598}},{"source":"util.ts","name":null,"original":{"line":21,"column":24},"generated":{"line":1,"column":609}},{"source":"util.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":615}},{"source":"util.ts","name":null,"original":{"line":24,"column":11},"generated":{"line":1,"column":620}},{"source":"util.ts","name":null,"original":{"line":24,"column":27},"generated":{"line":1,"column":634}},{"source":"util.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":1,"column":636}},{"source":"util.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":1,"column":641}},{"source":"util.ts","name":null,"original":{"line":26,"column":21},"generated":{"line":1,"column":649}},{"source":"util.ts","name":null,"original":{"line":26,"column":21},"generated":{"line":1,"column":651}},{"source":"util.ts","name":null,"original":{"line":26,"column":30},"generated":{"line":1,"column":660}},{"source":"util.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":673}},{"source":"util.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":678}},{"source":"util.ts","name":null,"original":{"line":27,"column":28},"generated":{"line":1,"column":693}},{"source":"util.ts","name":null,"original":{"line":27,"column":28},"generated":{"line":1,"column":695}},{"source":"util.ts","name":null,"original":{"line":27,"column":37},"generated":{"line":1,"column":704}},{"source":"util.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":717}},{"source":"util.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":722}},{"source":"util.ts","name":null,"original":{"line":30,"column":23},"generated":{"line":1,"column":731}},{"source":"util.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":742}},{"source":"util.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":746}},{"source":"util.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":748}},{"source":"util.ts","name":null,"original":{"line":31,"column":39},"generated":{"line":1,"column":750}},{"source":"util.ts","name":null,"original":{"line":32,"column":6},"generated":{"line":1,"column":751}},{"source":"util.ts","name":null,"original":{"line":32,"column":15},"generated":{"line":1,"column":759}},{"source":"util.ts","name":null,"original":{"line":32,"column":15},"generated":{"line":1,"column":761}},{"source":"util.ts","name":null,"original":{"line":32,"column":24},"generated":{"line":1,"column":770}},{"source":"util.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":791}},{"source":"util.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":1,"column":798}},{"source":"util.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":1,"column":800}},{"source":"util.ts","name":null,"original":{"line":33,"column":23},"generated":{"line":1,"column":809}},{"source":"util.ts","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":829}},{"source":"util.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":841}},{"source":"util.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":843}},{"source":"util.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":849}},{"source":"util.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":851}},{"source":"util.ts","name":null,"original":{"line":36,"column":18},"generated":{"line":1,"column":863}},{"source":"util.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":1,"column":865}},{"source":"util.ts","name":null,"original":{"line":37,"column":16},"generated":{"line":1,"column":875}},{"source":"util.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":878}},{"source":"util.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":882}},{"source":"util.ts","name":null,"original":{"line":40,"column":19},"generated":{"line":1,"column":884}},{"source":"util.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":1,"column":891}},{"source":"util.ts","name":null,"original":{"line":40,"column":34},"generated":{"line":1,"column":898}},{"source":"util.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":900}},{"source":"util.ts","name":null,"original":{"line":45,"column":6},"generated":{"line":1,"column":904}},{"source":"util.ts","name":null,"original":{"line":45,"column":11},"generated":{"line":1,"column":906}},{"source":"util.ts","name":null,"original":{"line":45,"column":15},"generated":{"line":1,"column":910}},{"source":"util.ts","name":null,"original":{"line":45,"column":33},"generated":{"line":1,"column":928}},{"source":"util.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":931}},{"source":"util.ts","name":null,"original":{"line":47,"column":16},"generated":{"line":1,"column":933}},{"source":"util.ts","name":null,"original":{"line":47,"column":29},"generated":{"line":1,"column":945}},{"source":"util.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":947}},{"source":"util.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":951}},{"source":"util.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":958}},{"source":"util.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":1,"column":960}},{"source":"util.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":964}},{"source":"util.ts","name":null,"original":{"line":52,"column":13},"generated":{"line":1,"column":966}},{"source":"util.ts","name":null,"original":{"line":52,"column":16},"generated":{"line":1,"column":968}},{"source":"util.ts","name":null,"original":{"line":52,"column":34},"generated":{"line":1,"column":986}},{"source":"util.ts","name":null,"original":{"line":52,"column":49},"generated":{"line":1,"column":1000}},{"source":"util.ts","name":null,"original":{"line":52,"column":51},"generated":{"line":1,"column":1001}},{"source":"util.ts","name":null,"original":{"line":52,"column":60},"generated":{"line":1,"column":1010}},{"source":"util.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":1,"column":1014}},{"source":"util.ts","name":null,"original":{"line":53,"column":18},"generated":{"line":1,"column":1016}},{"source":"util.ts","name":null,"original":{"line":53,"column":25},"generated":{"line":1,"column":1022}},{"source":"util.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":1024}},{"source":"util.ts","name":null,"original":{"line":54,"column":18},"generated":{"line":1,"column":1026}},{"source":"util.ts","name":null,"original":{"line":54,"column":31},"generated":{"line":1,"column":1037}},{"source":"util.ts","name":null,"original":{"line":54,"column":34},"generated":{"line":1,"column":1039}},{"source":"util.ts","name":null,"original":{"line":57,"column":12},"generated":{"line":1,"column":1047}},{"source":"util.ts","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":1051}},{"source":"util.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":1,"column":1053}},{"source":"util.ts","name":null,"original":{"line":58,"column":26},"generated":{"line":1,"column":1064}},{"source":"util.ts","name":null,"original":{"line":59,"column":10},"generated":{"line":1,"column":1071}},{"source":"util.ts","name":null,"original":{"line":59,"column":20},"generated":{"line":1,"column":1073}},{"source":"util.ts","name":null,"original":{"line":59,"column":34},"generated":{"line":1,"column":1085}},{"source":"util.ts","name":null,"original":{"line":59,"column":34},"generated":{"line":1,"column":1087}},{"source":"util.ts","name":null,"original":{"line":59,"column":43},"generated":{"line":1,"column":1096}},{"source":"util.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":1,"column":1102}},{"source":"util.ts","name":null,"original":{"line":60,"column":17},"generated":{"line":1,"column":1108}},{"source":"util.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":1113}},{"source":"util.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":1,"column":1119}},{"source":"util.ts","name":null,"original":{"line":63,"column":16},"generated":{"line":1,"column":1123}},{"source":"util.ts","name":null,"original":{"line":64,"column":12},"generated":{"line":1,"column":1131}},{"source":"util.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":1134}},{"source":"util.ts","name":null,"original":{"line":65,"column":13},"generated":{"line":1,"column":1136}},{"source":"util.ts","name":null,"original":{"line":68,"column":6},"generated":{"line":1,"column":1145}},{"source":"util.ts","name":null,"original":{"line":68,"column":13},"generated":{"line":1,"column":1151}},{"source":"util.ts","name":null,"original":{"line":69,"column":14},"generated":{"line":1,"column":1155}},{"source":"util.ts","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":1163}},{"source":"util.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":1,"column":1166}},{"source":"util.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":1,"column":1168}},{"source":"util.ts","name":null,"original":{"line":75,"column":11},"generated":{"line":1,"column":1176}},{"source":"util.ts","name":null,"original":{"line":75,"column":11},"generated":{"line":1,"column":1183}},{"source":"util.ts","name":null,"original":{"line":30,"column":23},"generated":{"line":1,"column":1185}},{"source":"util.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1188}},{"source":"util.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1193}},{"source":"util.ts","name":null,"original":{"line":84,"column":9},"generated":{"line":1,"column":1198}},{"source":"util.ts","name":null,"original":{"line":84,"column":20},"generated":{"line":1,"column":1200}},{"source":"util.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":1205}},{"source":"util.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":1210}},{"source":"util.ts","name":null,"original":{"line":85,"column":11},"generated":{"line":1,"column":1217}},{"source":"util.ts","name":null,"original":{"line":85,"column":22},"generated":{"line":1,"column":1219}},{"source":"util.ts","name":null,"original":{"line":89,"column":10},"generated":{"line":1,"column":1226}},{"source":"util.ts","name":null,"original":{"line":89,"column":10},"generated":{"line":1,"column":1231}},{"source":"util.ts","name":null,"original":{"line":89,"column":31},"generated":{"line":1,"column":1242}},{"source":"util.ts","name":null,"original":{"line":154,"column":0},"generated":{"line":1,"column":1244}},{"source":"util.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":1251}},{"source":"util.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":1253}},{"source":"util.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":1263}},{"source":"util.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":1268}},{"source":"util.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":1281}},{"source":"util.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":1283}},{"source":"util.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":1293}},{"source":"util.ts","name":null,"original":{"line":79,"column":2},"generated":{"line":1,"column":1304}},{"source":"util.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":1,"column":1313}},{"source":"util.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":1,"column":1316}},{"source":"util.ts","name":null,"original":{"line":81,"column":12},"generated":{"line":1,"column":1323}},{"source":"util.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":1326}},{"source":"util.ts","name":null,"original":{"line":81,"column":57},"generated":{"line":1,"column":1365}},{"source":"util.ts","name":null,"original":{"line":81,"column":62},"generated":{"line":1,"column":1370}},{"source":"util.ts","name":null,"original":{"line":91,"column":2},"generated":{"line":1,"column":1374}},{"source":"util.ts","name":null,"original":{"line":91,"column":2},"generated":{"line":1,"column":1376}},{"source":"util.ts","name":null,"original":{"line":91,"column":2},"generated":{"line":1,"column":1386}},{"source":"util.ts","name":null,"original":{"line":91,"column":2},"generated":{"line":1,"column":1392}},{"source":"util.ts","name":null,"original":{"line":91,"column":8},"generated":{"line":1,"column":1401}},{"source":"util.ts","name":null,"original":{"line":99,"column":11},"generated":{"line":1,"column":1404}},{"source":"util.ts","name":null,"original":{"line":92,"column":10},"generated":{"line":1,"column":1408}},{"source":"util.ts","name":null,"original":{"line":92,"column":10},"generated":{"line":1,"column":1412}},{"source":"util.ts","name":null,"original":{"line":92,"column":19},"generated":{"line":1,"column":1414}},{"source":"util.ts","name":null,"original":{"line":93,"column":10},"generated":{"line":1,"column":1417}},{"source":"util.ts","name":null,"original":{"line":93,"column":17},"generated":{"line":1,"column":1419}},{"source":"util.ts","name":null,"original":{"line":93,"column":22},"generated":{"line":1,"column":1421}},{"source":"util.ts","name":null,"original":{"line":94,"column":10},"generated":{"line":1,"column":1426}},{"source":"util.ts","name":null,"original":{"line":94,"column":18},"generated":{"line":1,"column":1428}},{"source":"util.ts","name":null,"original":{"line":94,"column":23},"generated":{"line":1,"column":1433}},{"source":"util.ts","name":null,"original":{"line":94,"column":28},"generated":{"line":1,"column":1438}},{"source":"util.ts","name":null,"original":{"line":94,"column":35},"generated":{"line":1,"column":1440}},{"source":"util.ts","name":null,"original":{"line":94,"column":35},"generated":{"line":1,"column":1448}},{"source":"util.ts","name":null,"original":{"line":94,"column":40},"generated":{"line":1,"column":1453}},{"source":"util.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":1465}},{"source":"util.ts","name":null,"original":{"line":96,"column":16},"generated":{"line":1,"column":1467}},{"source":"util.ts","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":1469}},{"source":"util.ts","name":null,"original":{"line":97,"column":16},"generated":{"line":1,"column":1471}},{"source":"util.ts","name":null,"original":{"line":99,"column":11},"generated":{"line":1,"column":1473}},{"source":"util.ts","name":null,"original":{"line":99,"column":19},"generated":{"line":1,"column":1475}},{"source":"util.ts","name":null,"original":{"line":99,"column":25},"generated":{"line":1,"column":1478}},{"source":"util.ts","name":null,"original":{"line":100,"column":12},"generated":{"line":1,"column":1479}},{"source":"util.ts","name":null,"original":{"line":100,"column":12},"generated":{"line":1,"column":1483}},{"source":"util.ts","name":null,"original":{"line":100,"column":18},"generated":{"line":1,"column":1485}},{"source":"util.ts","name":null,"original":{"line":100,"column":23},"generated":{"line":1,"column":1490}},{"source":"util.ts","name":null,"original":{"line":100,"column":27},"generated":{"line":1,"column":1494}},{"source":"util.ts","name":null,"original":{"line":100,"column":33},"generated":{"line":1,"column":1496}},{"source":"util.ts","name":null,"original":{"line":100,"column":41},"generated":{"line":1,"column":1498}},{"source":"util.ts","name":null,"original":{"line":100,"column":41},"generated":{"line":1,"column":1506}},{"source":"util.ts","name":null,"original":{"line":100,"column":46},"generated":{"line":1,"column":1511}},{"source":"util.ts","name":null,"original":{"line":101,"column":12},"generated":{"line":1,"column":1523}},{"source":"util.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":1,"column":1525}},{"source":"util.ts","name":null,"original":{"line":101,"column":21},"generated":{"line":1,"column":1527}},{"source":"util.ts","name":null,"original":{"line":101,"column":27},"generated":{"line":1,"column":1533}},{"source":"util.ts","name":null,"original":{"line":101,"column":34},"generated":{"line":1,"column":1535}},{"source":"util.ts","name":null,"original":{"line":103,"column":12},"generated":{"line":1,"column":1538}},{"source":"util.ts","name":null,"original":{"line":103,"column":20},"generated":{"line":1,"column":1540}},{"source":"util.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":1,"column":1541}},{"source":"util.ts","name":null,"original":{"line":104,"column":20},"generated":{"line":1,"column":1552}},{"source":"util.ts","name":null,"original":{"line":104,"column":25},"generated":{"line":1,"column":1557}},{"source":"util.ts","name":null,"original":{"line":105,"column":8},"generated":{"line":1,"column":1568}},{"source":"util.ts","name":null,"original":{"line":105,"column":11},"generated":{"line":1,"column":1570}},{"source":"util.ts","name":null,"original":{"line":106,"column":8},"generated":{"line":1,"column":1572}},{"source":"util.ts","name":null,"original":{"line":106,"column":14},"generated":{"line":1,"column":1577}},{"source":"util.ts","name":null,"original":{"line":107,"column":8},"generated":{"line":1,"column":1579}},{"source":"util.ts","name":null,"original":{"line":107,"column":13},"generated":{"line":1,"column":1585}},{"source":"util.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":1,"column":1588}},{"source":"util.ts","name":null,"original":{"line":110,"column":13},"generated":{"line":1,"column":1590}},{"source":"util.ts","name":null,"original":{"line":110,"column":18},"generated":{"line":1,"column":1595}},{"source":"util.ts","name":null,"original":{"line":112,"column":6},"generated":{"line":1,"column":1598}},{"source":"util.ts","name":null,"original":{"line":112,"column":14},"generated":{"line":1,"column":1600}},{"source":"util.ts","name":null,"original":{"line":113,"column":6},"generated":{"line":1,"column":1602}},{"source":"util.ts","name":null,"original":{"line":118,"column":11},"generated":{"line":1,"column":1606}},{"source":"util.ts","name":null,"original":{"line":116,"column":9},"generated":{"line":1,"column":1613}},{"source":"util.ts","name":null,"original":{"line":116,"column":9},"generated":{"line":1,"column":1618}},{"source":"util.ts","name":null,"original":{"line":118,"column":11},"generated":{"line":1,"column":1631}},{"source":"util.ts","name":null,"original":{"line":121,"column":2},"generated":{"line":1,"column":1634}},{"source":"util.ts","name":null,"original":{"line":121,"column":2},"generated":{"line":1,"column":1636}},{"source":"util.ts","name":null,"original":{"line":121,"column":2},"generated":{"line":1,"column":1646}},{"source":"util.ts","name":null,"original":{"line":121,"column":2},"generated":{"line":1,"column":1664}},{"source":"util.ts","name":null,"original":{"line":121,"column":20},"generated":{"line":1,"column":1673}},{"source":"util.ts","name":null,"original":{"line":121,"column":32},"generated":{"line":1,"column":1675}},{"source":"util.ts","name":null,"original":{"line":122,"column":10},"generated":{"line":1,"column":1678}},{"source":"util.ts","name":null,"original":{"line":122,"column":10},"generated":{"line":1,"column":1682}},{"source":"util.ts","name":null,"original":{"line":122,"column":15},"generated":{"line":1,"column":1684}},{"source":"util.ts","name":null,"original":{"line":122,"column":19},"generated":{"line":1,"column":1688}},{"source":"util.ts","name":null,"original":{"line":132,"column":11},"generated":{"line":1,"column":1699}},{"source":"util.ts","name":null,"original":{"line":124,"column":4},"generated":{"line":1,"column":1706}},{"source":"util.ts","name":null,"original":{"line":124,"column":7},"generated":{"line":1,"column":1708}},{"source":"util.ts","name":null,"original":{"line":124,"column":16},"generated":{"line":1,"column":1715}},{"source":"util.ts","name":null,"original":{"line":124,"column":26},"generated":{"line":1,"column":1724}},{"source":"util.ts","name":null,"original":{"line":125,"column":10},"generated":{"line":1,"column":1727}},{"source":"util.ts","name":null,"original":{"line":125,"column":14},"generated":{"line":1,"column":1729}},{"source":"util.ts","name":null,"original":{"line":126,"column":8},"generated":{"line":1,"column":1737}},{"source":"util.ts","name":null,"original":{"line":126,"column":11},"generated":{"line":1,"column":1739}},{"source":"util.ts","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":1741}},{"source":"util.ts","name":null,"original":{"line":126,"column":22},"generated":{"line":1,"column":1748}},{"source":"util.ts","name":null,"original":{"line":130,"column":4},"generated":{"line":1,"column":1757}},{"source":"util.ts","name":null,"original":{"line":130,"column":7},"generated":{"line":1,"column":1759}},{"source":"util.ts","name":null,"original":{"line":130,"column":25},"generated":{"line":1,"column":1777}},{"source":"util.ts","name":null,"original":{"line":132,"column":11},"generated":{"line":1,"column":1780}},{"source":"util.ts","name":null,"original":{"line":135,"column":2},"generated":{"line":1,"column":1783}},{"source":"util.ts","name":null,"original":{"line":135,"column":2},"generated":{"line":1,"column":1785}},{"source":"util.ts","name":null,"original":{"line":135,"column":2},"generated":{"line":1,"column":1795}},{"source":"util.ts","name":null,"original":{"line":135,"column":2},"generated":{"line":1,"column":1821}},{"source":"util.ts","name":null,"original":{"line":135,"column":28},"generated":{"line":1,"column":1830}},{"source":"util.ts","name":null,"original":{"line":138,"column":9},"generated":{"line":1,"column":1833}},{"source":"util.ts","name":null,"original":{"line":136,"column":10},"generated":{"line":1,"column":1837}},{"source":"util.ts","name":null,"original":{"line":136,"column":10},"generated":{"line":1,"column":1841}},{"source":"util.ts","name":null,"original":{"line":136,"column":22},"generated":{"line":1,"column":1843}},{"source":"util.ts","name":null,"original":{"line":136,"column":26},"generated":{"line":1,"column":1847}},{"source":"util.ts","name":null,"original":{"line":136,"column":37},"generated":{"line":1,"column":1858}},{"source":"util.ts","name":null,"original":{"line":136,"column":44},"generated":{"line":1,"column":1860}},{"source":"util.ts","name":null,"original":{"line":138,"column":13},"generated":{"line":1,"column":1868}},{"source":"util.ts","name":null,"original":{"line":138,"column":17},"generated":{"line":1,"column":1870}},{"source":"util.ts","name":null,"original":{"line":138,"column":20},"generated":{"line":1,"column":1872}},{"source":"util.ts","name":null,"original":{"line":138,"column":24},"generated":{"line":1,"column":1874}},{"source":"util.ts","name":null,"original":{"line":138,"column":31},"generated":{"line":1,"column":1876}},{"source":"util.ts","name":null,"original":{"line":138,"column":39},"generated":{"line":1,"column":1883}},{"source":"util.ts","name":null,"original":{"line":139,"column":6},"generated":{"line":1,"column":1887}},{"source":"util.ts","name":null,"original":{"line":139,"column":16},"generated":{"line":1,"column":1889}},{"source":"util.ts","name":null,"original":{"line":139,"column":44},"generated":{"line":1,"column":1892}},{"source":"util.ts","name":null,"original":{"line":139,"column":21},"generated":{"line":1,"column":1896}},{"source":"util.ts","name":null,"original":{"line":139,"column":28},"generated":{"line":1,"column":1898}},{"source":"util.ts","name":null,"original":{"line":139,"column":39},"generated":{"line":1,"column":1909}},{"source":"util.ts","name":null,"original":{"line":142,"column":11},"generated":{"line":1,"column":1912}},{"source":"util.ts","name":null,"original":{"line":142,"column":11},"generated":{"line":1,"column":1919}},{"source":"util.ts","name":null,"original":{"line":142,"column":21},"generated":{"line":1,"column":1921}},{"source":"util.ts","name":null,"original":{"line":145,"column":2},"generated":{"line":1,"column":1929}},{"source":"util.ts","name":null,"original":{"line":145,"column":2},"generated":{"line":1,"column":1931}},{"source":"util.ts","name":null,"original":{"line":145,"column":2},"generated":{"line":1,"column":1941}},{"source":"util.ts","name":null,"original":{"line":145,"column":2},"generated":{"line":1,"column":1953}},{"source":"util.ts","name":null,"original":{"line":146,"column":11},"generated":{"line":1,"column":1964}},{"source":"util.ts","name":null,"original":{"line":146,"column":11},"generated":{"line":1,"column":1971}},{"source":"util.ts","name":null,"original":{"line":146,"column":16},"generated":{"line":1,"column":1976}},{"source":"util.ts","name":null,"original":{"line":147,"column":7},"generated":{"line":1,"column":1985}},{"source":"util.ts","name":null,"original":{"line":147,"column":16},"generated":{"line":1,"column":1994}},{"source":"util.ts","name":null,"original":{"line":148,"column":7},"generated":{"line":1,"column":1998}},{"source":"util.ts","name":null,"original":{"line":148,"column":14},"generated":{"line":1,"column":2005}},{"source":"util.ts","name":null,"original":{"line":151,"column":2},"generated":{"line":1,"column":2009}},{"source":"util.ts","name":null,"original":{"line":151,"column":2},"generated":{"line":1,"column":2011}},{"source":"util.ts","name":null,"original":{"line":151,"column":2},"generated":{"line":1,"column":2021}},{"source":"util.ts","name":null,"original":{"line":151,"column":2},"generated":{"line":1,"column":2030}},{"source":"util.ts","name":null,"original":{"line":152,"column":11},"generated":{"line":1,"column":2041}},{"source":"util.ts","name":null,"original":{"line":152,"column":33},"generated":{"line":1,"column":2047}},{"source":"util.ts","name":null,"original":{"line":152,"column":11},"generated":{"line":1,"column":2058}},{"source":"util.ts","name":null,"original":{"line":152,"column":20},"generated":{"line":1,"column":2067}},{"source":"util.ts","name":null,"original":{"line":154,"column":0},"generated":{"line":1,"column":2077}},{"source":"util.ts","name":null,"original":{"line":13,"column":20},"generated":{"line":1,"column":2079}}],"sources":{"util.ts":"import * as BinaryPack from \"peerjs-js-binarypack\";\nimport { Supports } from './supports';\nimport { UtilSupportsObj } from '..';\n\nconst DEFAULT_CONFIG = {\n  iceServers: [\n    { urls: \"stun:stun.l.google.com:19302\" },\n    { urls: \"turn:0.peerjs.com:3478\", username: \"peerjs\", credential: \"peerjsp\" }\n  ],\n  sdpSemantics: \"unified-plan\"\n};\n\nexport const util = new class {\n  noop(): void { }\n\n  readonly CLOUD_HOST = \"0.peerjs.com\";\n  readonly CLOUD_PORT = 443;\n\n  // Browsers that need chunking:\n  readonly chunkedBrowsers = { Chrome: 1, chrome: 1 };\n  readonly chunkedMTU = 16300; // The original 60000 bytes setting does not work when sending data from Firefox to Chrome, which is \"cut off\" after 16384 bytes and delivered individually.\n\n  // Returns browser-agnostic default config\n  readonly defaultConfig = DEFAULT_CONFIG;\n\n  readonly browser = Supports.getBrowser();\n  readonly browserVersion = Supports.getVersion();\n\n  // Lists which features are supported\n  readonly supports = (function () {\n    const supported: UtilSupportsObj = {\n      browser: Supports.isBrowserSupported(),\n      webRTC: Supports.isWebRTCSupported(),\n      audioVideo: false,\n      data: false,\n      binaryBlob: false,\n      reliable: false,\n    };\n\n    if (!supported.webRTC) return supported;\n\n    let pc: RTCPeerConnection;\n\n    try {\n      pc = new RTCPeerConnection(DEFAULT_CONFIG);\n\n      supported.audioVideo = true;\n\n      let dc: RTCDataChannel;\n\n      try {\n        dc = pc.createDataChannel(\"_PEERJSTEST\", { ordered: true });\n        supported.data = true;\n        supported.reliable = !!dc.ordered;\n\n        // Binary test\n        try {\n          dc.binaryType = \"blob\";\n          supported.binaryBlob = !Supports.isIOS;\n        } catch (e) {\n        }\n      } catch (e) {\n      } finally {\n        if (dc) {\n          dc.close();\n        }\n      }\n    } catch (e) {\n    } finally {\n      if (pc) {\n        pc.close();\n      }\n    }\n\n    return supported;\n  })();\n\n  // Ensure alphanumeric ids\n  validateId(id: string): boolean {\n    // Allow empty ids\n    return !id || /^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(id);\n  }\n\n  pack = BinaryPack.pack;\n  unpack = BinaryPack.unpack;\n\n  // Binary stuff\n\n  private _dataCount: number = 1;\n\n  chunk(blob: Blob): { __peerData: number, n: number, total: number, data: Blob }[] {\n    const chunks = [];\n    const size = blob.size;\n    const total = Math.ceil(size / util.chunkedMTU);\n\n    let index = 0;\n    let start = 0;\n\n    while (start < size) {\n      const end = Math.min(size, start + util.chunkedMTU);\n      const b = blob.slice(start, end);\n\n      const chunk = {\n        __peerData: this._dataCount,\n        n: index,\n        data: b,\n        total,\n      };\n\n      chunks.push(chunk);\n\n      start = end;\n      index++;\n    }\n\n    this._dataCount++;\n\n    return chunks;\n  }\n\n  blobToArrayBuffer(blob: Blob, cb: (arg: ArrayBuffer | null) => void): FileReader {\n    const fr = new FileReader();\n\n    fr.onload = function (evt) {\n      if (evt.target) {\n        cb(evt.target.result as ArrayBuffer);\n      }\n    };\n\n    fr.readAsArrayBuffer(blob);\n\n    return fr;\n  }\n\n  binaryStringToArrayBuffer(binary: string): ArrayBuffer | SharedArrayBuffer {\n    const byteArray = new Uint8Array(binary.length);\n\n    for (let i = 0; i < binary.length; i++) {\n      byteArray[i] = binary.charCodeAt(i) & 0xff;\n    }\n\n    return byteArray.buffer;\n  }\n\n  randomToken(): string {\n    return Math.random()\n      .toString(36)\n      .substr(2);\n  }\n\n  isSecure(): boolean {\n    return location.protocol === \"https:\";\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"461450f9f431ec0c99c8950c8a09e524","cacheData":{"env":{}}}