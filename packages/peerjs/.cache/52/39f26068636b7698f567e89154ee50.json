{"id":"GGp6","dependencies":[{"name":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/tsconfig.json","includedInParent":true,"mtime":1614222249821},{"name":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/package.json","includedInParent":true,"mtime":1614223877867},{"name":"eventemitter3","loc":{"line":19,"column":30},"parent":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/lib/encodingQueue.ts","resolved":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/node_modules/eventemitter3/index.js"},{"name":"./logger","loc":{"line":20,"column":39},"parent":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/lib/encodingQueue.ts","resolved":"/Users/jackwilson/github.com/wils3005/wilsjs/packages/peerjs/lib/logger.ts"}],"generated":{"js":"\"use strict\";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0});var r=require(\"eventemitter3\"),o=t(require(\"./logger\")),n=function(t){function r(){var e=t.call(this)||this;return e.fileReader=new FileReader,e._queue=[],e._processing=!1,e.fileReader.onload=function(t){e._processing=!1,t.target&&e.emit(\"done\",t.target.result),e.doNextTask()},e.fileReader.onerror=function(t){o.default.error(\"EncodingQueue error:\",t),e._processing=!1,e.destroy(),e.emit(\"error\",t)},e}return e(r,t),Object.defineProperty(r.prototype,\"queue\",{get:function(){return this._queue},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"size\",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,\"processing\",{get:function(){return this._processing},enumerable:!0,configurable:!0}),r.prototype.enque=function(e){this.queue.push(e),this.processing||this.doNextTask()},r.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},r.prototype.doNextTask=function(){0!==this.size&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},r}(r.EventEmitter);exports.EncodingQueue=n;"},"sourceMaps":{"js":{"mappings":[{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":0}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":13}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":17}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":19}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":25}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":30}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":41}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":52}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":56}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":58}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":67}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":69}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":72}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":79}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":81}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":88}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":104}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":105}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":115}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":129}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":136}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":145}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":147}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":150}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":152}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":162}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":166}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":175}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":177}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":180}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":184}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":188}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":193}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":195}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":197}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":212}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":217}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":219}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":222}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":224}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":230}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":232}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":236}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":243}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":252}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":254}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":257}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":266}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":270}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":275}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":287}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":289}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":291}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":293}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":296}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":298}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":308}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":315}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":317}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":324}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":331}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":335}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":337}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":347}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":349}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":359}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":363}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":367}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":370}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":372}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":378}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":383}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":400}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":409}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":412}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":419}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":422}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":424}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":435}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":437}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":438}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":446}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":450}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":457}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":472}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":480}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":493}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":494}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":501}},{"source":"encodingQueue.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":505}},{"source":"encodingQueue.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":509}},{"source":"encodingQueue.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":511}},{"source":"encodingQueue.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":519}},{"source":"encodingQueue.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":536}},{"source":"encodingQueue.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":538}},{"source":"encodingQueue.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":540}},{"source":"encodingQueue.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":548}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":561}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":563}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":572}},{"source":"encodingQueue.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":575}},{"source":"encodingQueue.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":584}},{"source":"encodingQueue.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":588}},{"source":"encodingQueue.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":592}},{"source":"encodingQueue.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":594}},{"source":"encodingQueue.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":596}},{"source":"encodingQueue.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":1,"column":601}},{"source":"encodingQueue.ts","name":null,"original":{"line":11,"column":11},"generated":{"line":1,"column":608}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":613}},{"source":"encodingQueue.ts","name":null,"original":{"line":5,"column":11},"generated":{"line":1,"column":620}},{"source":"encodingQueue.ts","name":null,"original":{"line":5,"column":11},"generated":{"line":1,"column":622}},{"source":"encodingQueue.ts","name":null,"original":{"line":5,"column":36},"generated":{"line":1,"column":633}},{"source":"encodingQueue.ts","name":null,"original":{"line":5,"column":40},"generated":{"line":1,"column":637}},{"source":"encodingQueue.ts","name":null,"original":{"line":7,"column":10},"generated":{"line":1,"column":648}},{"source":"encodingQueue.ts","name":null,"original":{"line":7,"column":10},"generated":{"line":1,"column":650}},{"source":"encodingQueue.ts","name":null,"original":{"line":7,"column":27},"generated":{"line":1,"column":657}},{"source":"encodingQueue.ts","name":null,"original":{"line":8,"column":10},"generated":{"line":1,"column":660}},{"source":"encodingQueue.ts","name":null,"original":{"line":8,"column":10},"generated":{"line":1,"column":662}},{"source":"encodingQueue.ts","name":null,"original":{"line":8,"column":33},"generated":{"line":1,"column":675}},{"source":"encodingQueue.ts","name":null,"original":{"line":13,"column":4},"generated":{"line":1,"column":677}},{"source":"encodingQueue.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":1,"column":679}},{"source":"encodingQueue.ts","name":null,"original":{"line":13,"column":20},"generated":{"line":1,"column":690}},{"source":"encodingQueue.ts","name":null,"original":{"line":13,"column":29},"generated":{"line":1,"column":697}},{"source":"encodingQueue.ts","name":null,"original":{"line":13,"column":30},"generated":{"line":1,"column":706}},{"source":"encodingQueue.ts","name":null,"original":{"line":14,"column":6},"generated":{"line":1,"column":709}},{"source":"encodingQueue.ts","name":null,"original":{"line":14,"column":11},"generated":{"line":1,"column":711}},{"source":"encodingQueue.ts","name":null,"original":{"line":14,"column":25},"generated":{"line":1,"column":724}},{"source":"encodingQueue.ts","name":null,"original":{"line":16,"column":10},"generated":{"line":1,"column":726}},{"source":"encodingQueue.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":1,"column":728}},{"source":"encodingQueue.ts","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":736}},{"source":"encodingQueue.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":738}},{"source":"encodingQueue.ts","name":null,"original":{"line":17,"column":18},"generated":{"line":1,"column":743}},{"source":"encodingQueue.ts","name":null,"original":{"line":17,"column":26},"generated":{"line":1,"column":750}},{"source":"encodingQueue.ts","name":null,"original":{"line":17,"column":30},"generated":{"line":1,"column":752}},{"source":"encodingQueue.ts","name":null,"original":{"line":17,"column":37},"generated":{"line":1,"column":759}},{"source":"encodingQueue.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":767}},{"source":"encodingQueue.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":769}},{"source":"encodingQueue.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":783}},{"source":"encodingQueue.ts","name":null,"original":{"line":23,"column":9},"generated":{"line":1,"column":785}},{"source":"encodingQueue.ts","name":null,"original":{"line":23,"column":20},"generated":{"line":1,"column":796}},{"source":"encodingQueue.ts","name":null,"original":{"line":23,"column":30},"generated":{"line":1,"column":804}},{"source":"encodingQueue.ts","name":null,"original":{"line":23,"column":31},"generated":{"line":1,"column":813}},{"source":"encodingQueue.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":816}},{"source":"encodingQueue.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":818}},{"source":"encodingQueue.ts","name":null,"original":{"line":24,"column":13},"generated":{"line":1,"column":826}},{"source":"encodingQueue.ts","name":null,"original":{"line":24,"column":19},"generated":{"line":1,"column":832}},{"source":"encodingQueue.ts","name":null,"original":{"line":24,"column":43},"generated":{"line":1,"column":855}},{"source":"encodingQueue.ts","name":null,"original":{"line":25,"column":6},"generated":{"line":1,"column":858}},{"source":"encodingQueue.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":860}},{"source":"encodingQueue.ts","name":null,"original":{"line":25,"column":25},"generated":{"line":1,"column":873}},{"source":"encodingQueue.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":1,"column":875}},{"source":"encodingQueue.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":1,"column":877}},{"source":"encodingQueue.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":1,"column":887}},{"source":"encodingQueue.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":889}},{"source":"encodingQueue.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":894}},{"source":"encodingQueue.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":1,"column":902}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":906}},{"source":"encodingQueue.ts","name":null,"original":{"line":64,"column":0},"generated":{"line":1,"column":908}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":35},"generated":{"line":1,"column":915}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":35},"generated":{"line":1,"column":917}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":35},"generated":{"line":1,"column":919}},{"source":"encodingQueue.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":922}},{"source":"encodingQueue.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":929}},{"source":"encodingQueue.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":944}},{"source":"encodingQueue.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":946}},{"source":"encodingQueue.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":956}},{"source":"encodingQueue.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":1,"column":964}},{"source":"encodingQueue.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":965}},{"source":"encodingQueue.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":969}},{"source":"encodingQueue.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":980}},{"source":"encodingQueue.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":987}},{"source":"encodingQueue.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":1,"column":992}},{"source":"encodingQueue.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":1,"column":1000}},{"source":"encodingQueue.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":1,"column":1012}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":1014}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":1028}},{"source":"encodingQueue.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":1032}},{"source":"encodingQueue.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":1039}},{"source":"encodingQueue.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":1054}},{"source":"encodingQueue.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":1056}},{"source":"encodingQueue.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":1066}},{"source":"encodingQueue.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":1073}},{"source":"encodingQueue.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":1074}},{"source":"encodingQueue.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":1078}},{"source":"encodingQueue.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":1089}},{"source":"encodingQueue.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":1096}},{"source":"encodingQueue.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":1101}},{"source":"encodingQueue.ts","name":null,"original":{"line":36,"column":22},"generated":{"line":1,"column":1107}},{"source":"encodingQueue.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":1115}},{"source":"encodingQueue.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":1127}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":1129}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":1143}},{"source":"encodingQueue.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":1147}},{"source":"encodingQueue.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":1154}},{"source":"encodingQueue.ts","name":null,"original":{"line":39,"column":6},"generated":{"line":1,"column":1169}},{"source":"encodingQueue.ts","name":null,"original":{"line":39,"column":6},"generated":{"line":1,"column":1171}},{"source":"encodingQueue.ts","name":null,"original":{"line":39,"column":6},"generated":{"line":1,"column":1181}},{"source":"encodingQueue.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":1194}},{"source":"encodingQueue.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":1195}},{"source":"encodingQueue.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":1199}},{"source":"encodingQueue.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":1210}},{"source":"encodingQueue.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":1217}},{"source":"encodingQueue.ts","name":null,"original":{"line":40,"column":16},"generated":{"line":1,"column":1222}},{"source":"encodingQueue.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":1235}},{"source":"encodingQueue.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":1247}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":1249}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":1263}},{"source":"encodingQueue.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":1,"column":1267}},{"source":"encodingQueue.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":1,"column":1269}},{"source":"encodingQueue.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":1,"column":1279}},{"source":"encodingQueue.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":1,"column":1285}},{"source":"encodingQueue.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":1294}},{"source":"encodingQueue.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":1297}},{"source":"encodingQueue.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":1302}},{"source":"encodingQueue.ts","name":null,"original":{"line":44,"column":15},"generated":{"line":1,"column":1308}},{"source":"encodingQueue.ts","name":null,"original":{"line":44,"column":20},"generated":{"line":1,"column":1313}},{"source":"encodingQueue.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":1316}},{"source":"encodingQueue.ts","name":null,"original":{"line":46,"column":13},"generated":{"line":1,"column":1321}},{"source":"encodingQueue.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":1333}},{"source":"encodingQueue.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":1338}},{"source":"encodingQueue.ts","name":null,"original":{"line":51,"column":2},"generated":{"line":1,"column":1352}},{"source":"encodingQueue.ts","name":null,"original":{"line":51,"column":2},"generated":{"line":1,"column":1354}},{"source":"encodingQueue.ts","name":null,"original":{"line":51,"column":2},"generated":{"line":1,"column":1364}},{"source":"encodingQueue.ts","name":null,"original":{"line":51,"column":2},"generated":{"line":1,"column":1372}},{"source":"encodingQueue.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":1383}},{"source":"encodingQueue.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":1388}},{"source":"encodingQueue.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":1399}},{"source":"encodingQueue.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":1407}},{"source":"encodingQueue.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":1412}},{"source":"encodingQueue.ts","name":null,"original":{"line":53,"column":18},"generated":{"line":1,"column":1419}},{"source":"encodingQueue.ts","name":null,"original":{"line":56,"column":10},"generated":{"line":1,"column":1423}},{"source":"encodingQueue.ts","name":null,"original":{"line":56,"column":10},"generated":{"line":1,"column":1425}},{"source":"encodingQueue.ts","name":null,"original":{"line":56,"column":10},"generated":{"line":1,"column":1435}},{"source":"encodingQueue.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":1,"column":1446}},{"source":"encodingQueue.ts","name":null,"original":{"line":57,"column":22},"generated":{"line":1,"column":1457}},{"source":"encodingQueue.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":1461}},{"source":"encodingQueue.ts","name":null,"original":{"line":57,"column":13},"generated":{"line":1,"column":1466}},{"source":"encodingQueue.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":1473}},{"source":"encodingQueue.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":1,"column":1478}},{"source":"encodingQueue.ts","name":null,"original":{"line":60,"column":9},"generated":{"line":1,"column":1491}},{"source":"encodingQueue.ts","name":null,"original":{"line":60,"column":9},"generated":{"line":1,"column":1496}},{"source":"encodingQueue.ts","name":null,"original":{"line":60,"column":23},"generated":{"line":1,"column":1509}},{"source":"encodingQueue.ts","name":null,"original":{"line":62,"column":9},"generated":{"line":1,"column":1511}},{"source":"encodingQueue.ts","name":null,"original":{"line":62,"column":9},"generated":{"line":1,"column":1516}},{"source":"encodingQueue.ts","name":null,"original":{"line":62,"column":20},"generated":{"line":1,"column":1527}},{"source":"encodingQueue.ts","name":null,"original":{"line":62,"column":38},"generated":{"line":1,"column":1545}},{"source":"encodingQueue.ts","name":null,"original":{"line":62,"column":43},"generated":{"line":1,"column":1550}},{"source":"encodingQueue.ts","name":null,"original":{"line":62,"column":49},"generated":{"line":1,"column":1556}},{"source":"encodingQueue.ts","name":null,"original":{"line":64,"column":0},"generated":{"line":1,"column":1568}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":1570}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":35},"generated":{"line":1,"column":1571}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":35},"generated":{"line":1,"column":1573}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":1587}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":1595}},{"source":"encodingQueue.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":1609}}],"sources":{"encodingQueue.ts":"import { EventEmitter } from \"eventemitter3\";\nimport logger from \"./logger\";\n\nexport class EncodingQueue extends EventEmitter {\n  readonly fileReader: FileReader = new FileReader();\n\n  private _queue: Blob[] = [];\n  private _processing: boolean = false;\n\n  constructor() {\n    super();\n\n    this.fileReader.onload = (evt) => {\n      this._processing = false;\n\n      if (evt.target) {\n        this.emit('done', evt.target.result as ArrayBuffer);\n      }\n\n      this.doNextTask();\n    };\n\n    this.fileReader.onerror = (evt) => {\n      logger.error(`EncodingQueue error:`, evt);\n      this._processing = false;\n      this.destroy();\n      this.emit('error', evt);\n    }\n  }\n\n  get queue(): Blob[] {\n    return this._queue;\n  }\n\n  get size(): number {\n    return this.queue.length;\n  }\n\n  get processing(): boolean {\n    return this._processing;\n  }\n\n  enque(blob: Blob): void {\n    this.queue.push(blob);\n\n    if (this.processing) return;\n\n    this.doNextTask();\n  }\n\n  destroy(): void {\n    this.fileReader.abort();\n    this._queue = [];\n  }\n\n  private doNextTask(): void {\n    if (this.size === 0) return;\n    if (this.processing) return;\n\n    this._processing = true;\n\n    this.fileReader.readAsArrayBuffer(this.queue.shift());\n  }\n}"},"lineCount":null}},"error":null,"hash":"bacc0188eeebeb64e6decf79caef94cf","cacheData":{"env":{}}}